namespace = uzh

# Event 1: Збереження Православної Віри
country_event = {
    id = uzh.1
    title = "uzh.1.t"
    desc = "uzh.1.d"
    picture = ORTHODOX_eventPicture
    
    is_triggered_only = yes
    
    option = {
        name = "uzh.1.a"
        add_country_modifier = {
            name = "uz_basilian_monasteries"
            duration = 7300
        }
        add_patriarch_authority = 0.1
        add_stability = 1
    }
}

# Event 2: Угорське Покровительство
country_event = {
    id = uzh.2
    title = "uzh.2.t"
    desc = "uzh.2.d"
    picture = DIPLOMACY_eventPicture
    
    is_triggered_only = yes
    
    option = {
        name = "uzh.2.a"
        add_country_modifier = {
            name = "uz_advisor_pool"
            duration = 5475
        }
        add_dip_power = 50
        if = {
            limit = { 
                exists = HUN
                NOT = { alliance_with = HUN }
            }
            reverse_add_opinion = {
                who = HUN
                modifier = opinion_improved_relations
            }
        }
    }
    
    option = {
        name = "uzh.2.b"
        add_country_modifier = {
            name = "uz_advisor_pool"
            duration = 5475
        }
        add_dip_power = 100
        add_prestige = 10
    }
}

# Event 3: Маркетська Автономія
country_event = {
    id = uzh.3
    title = "uzh.3.t"
    desc = "uzh.3.d"
    picture = CITY_eventPicture
    
    is_triggered_only = yes
    
    option = {
        name = "uzh.3.a"
        1952 = {
            add_province_modifier = {
                name = "uz_mukachevo_privileges"
                duration = -1
            }
            add_base_tax = 1
        }
        add_country_modifier = {
            name = "uz_administrative_efficiency"
            duration = 7300
        }
    }
    
    option = {
        name = "uzh.3.b"
        1952 = {
            add_province_modifier = {
                name = "uz_mukachevo_privileges"
                duration = -1
            }
            add_base_production = 1
        }
        add_country_modifier = {
            name = "uz_administrative_efficiency"
            duration = 7300
        }
        add_years_of_income = 0.25
    }
}

# Event 4: Русинська Грамотність
country_event = {
    id = uzh.4
    title = "uzh.4.t"
    desc = "uzh.4.d"
    picture = CULTURE_eventPicture

    is_triggered_only = yes

    option = {
        name = "uzh.4.a"
        add_country_modifier = {
            name = "uz_cultural_renaissance"
            duration = 9125
        }
        add_adm_power = 50
        add_prestige = 10
        change_government_reform_progress = 25
        if = {
            limit = { owns = 1952 }
            1952 = {
                add_base_production = 1
            }
        }
    }

    option = {
        name = "uzh.4.b"
        add_country_modifier = {
            name = "uz_rusin_enlightenment"
            duration = 9125
        }
        add_dip_power = 75
        change_government_reform_progress = 25
        if = {
            limit = { has_estate = estate_burghers }
            add_estate_loyalty = {
                estate = estate_burghers
                loyalty = 10
            }
        }
    }
}

# Event 5: Династичний Патронат
country_event = {
    id = uzh.5
    title = "uzh.5.t"
    desc = "uzh.5.d"
    picture = DIPLOMACY_eventPicture

    is_triggered_only = yes

    option = {
        name = "uzh.5.a"
        add_country_modifier = {
            name = "uz_border_dynasty_network"
            duration = 9125
        }
        add_prestige = 10
        if = {
            limit = { has_country_flag = uzh_dynasty_source_overlord }
            add_legitimacy = 10
            add_liberty_desire = -10
            overlord = {
                add_opinion = {
                    who = ROOT
                    modifier = opinion_uz_border_dynasty
                }
            }
        }
        if = {
            limit = { has_country_flag = uzh_dynasty_source_neighbor }
            event_target:uzh_dynasty_patron = {
                add_opinion = {
                    who = ROOT
                    modifier = opinion_uz_border_dynasty
                }
            }
            add_dip_power = 75
        }
        if = {
            limit = { has_country_flag = uzh_dynasty_source_habsburg }
            HAB = {
                add_opinion = {
                    who = ROOT
                    modifier = opinion_uz_dual_crown
                }
            }
            add_mil_power = 75
            add_army_professionalism = 0.05
        }
        if = {
            limit = { has_country_flag = uzh_dynasty_source_none }
            add_stability = 1
            change_government_reform_progress = 35
        }
    }

    option = {
        name = "uzh.5.b"
        clr_country_flag = uzh_dynasty_source_overlord
        clr_country_flag = uzh_dynasty_source_neighbor
        clr_country_flag = uzh_dynasty_source_habsburg
        set_country_flag = uzh_dynasty_source_none
    add_prestige = -10
    add_mil_power = 50
    change_government_reform_progress = 25
        if = {
            limit = { government = monarchy }
            add_legitimacy = 10
        }
        if = {
            limit = { government = republic }
            add_republican_tradition = 5
        }
    }
}

# Event 6: Великий Переселенський Рух
country_event = {
    id = uzh.6
    title = "uzh.6.t"
    desc = "uzh.6.d"
    picture = COLONIAL_eventPicture

    is_triggered_only = yes

    option = {
        name = "uzh.6.a"
        add_country_modifier = {
            name = "uz_rusyn_autonomy"
            duration = 9125
        }
        add_adm_power = 50
        add_dip_power = 50
        every_owned_province = {
            limit = {
                region = carpathia_region
                uzh_identity_core_culture = yes
            }
            add_local_autonomy = -5
        }
        set_country_flag = uzh_diaspora_started
    }

    option = {
        name = "uzh.6.b"
        add_country_modifier = {
            name = "uz_pannonian_settlement"
            duration = 10950
        }
        set_country_flag = uzh_diaspora_started
        alfold_area = {
            limit = {
                NOT = { owned_by = ROOT }
            }
            add_permanent_claim = ROOT
        }
        southern_transylvania_area = {
            limit = {
                NOT = { owned_by = ROOT }
            }
            add_permanent_claim = ROOT
        }
        every_owned_province = {
            limit = {
                uzh_identity_core_culture = yes
            }
            add_base_manpower = 1
        }
        add_years_of_income = -0.5
    }
}

# Event 7: Статути Паланака
country_event = {
    id = uzh.7
    title = "uzh.7.t"
    desc = "uzh.7.d"
    picture = CULTURE_eventPicture
    
    is_triggered_only = yes
    
    option = {
        name = "uzh.7.a"
        add_country_modifier = {
            name = "uz_statute_codification"
            duration = -1
        }
        change_government_reform_progress = 100
        add_prestige = 20
        every_owned_province = {
            limit = {
                uzh_identity_core_culture = yes
            }
            add_local_autonomy = -10
        }
    }
}

# Event 8: Русинська Держава
country_event = {
    id = uzh.8
    title = "uzh.8.t"
    desc = "uzh.8.d"
    picture = COURT_eventPicture
    
    is_triggered_only = yes
    
    option = {
        name = "uzh.8.a"
        add_country_modifier = {
            name = "uz_sovereign_rusin_state"
            duration = -1
        }
        add_adm_power = 400
        add_dip_power = 400
        add_mil_power = 400
        add_prestige = 50
        set_government_rank = 2
    }
}

# Event 9: Паннонський Кордон
country_event = {
    id = uzh.9
    title = "uzh.9.t"
    desc = "uzh.9.d"
    picture = MILITARY_eventPicture
    
    is_triggered_only = yes
    
    option = {
        name = "uzh.9.a"
        carpathia_region = {
            limit = {
                NOT = { owned_by = ROOT }
            }
            add_permanent_claim = ROOT
        }
        add_country_modifier = {
            name = "uz_frontier_expansion"
            duration = 5475
        }
        add_mil_power = 75
        add_army_tradition = 5
    }
    
    option = {
        name = "uzh.9.b"
        carpathia_region = {
            limit = {
                NOT = { owned_by = ROOT }
            }
            add_permanent_claim = ROOT
        }
        add_country_modifier = {
            name = "uz_frontier_charters"
            duration = 5475
        }
        add_dip_power = 75
        add_mercantilism = 1
    }
}

# Event 10: Паннонська Республіка
country_event = {
    id = uzh.10
    title = "uzh.10.t"
    desc = "uzh.10.d"
    picture = DIPLOMACY_eventPicture
    
    is_triggered_only = yes
    
    option = {
        name = "uzh.10.a"
        add_country_modifier = {
            name = "uz_pannonian_league"
            duration = 9125
        }
        every_owned_province = {
            limit = {
                region = carpathia_region
                uzh_identity_core_culture = yes
            }
            add_local_autonomy = -5
        }
        add_dip_power = 100
    }
    
    option = {
        name = "uzh.10.b"
        add_country_modifier = {
            name = "uz_border_guard_union"
            duration = 9125
        }
        add_manpower = 3
        add_mil_power = 100
    }
}

# Event 201: Карловацький собор
country_event = {
    id = uzh.201
    title = "uzh.201.t"
    desc = "uzh.201.d"
    picture = RELIGIOUS_eventPicture

    is_triggered_only = yes

    option = {
        name = "uzh.201.a"
        add_country_modifier = {
            name = "uz_karloca_synod_blessing"
            duration = 7300
        }
        add_prestige = 15
        if = {
            limit = { has_estate = estate_church }
            add_estate_loyalty = {
                estate = estate_church
                loyalty = 10
            }
        }
        add_patriarch_authority = 0.05
    }

    option = {
        name = "uzh.201.b"
        add_country_modifier = {
            name = "uz_cathedral_guild_college"
            duration = 7300
        }
        add_dip_power = 100
        if = {
            limit = { has_estate = estate_burghers }
            add_estate_loyalty = {
                estate = estate_burghers
                loyalty = 10
            }
        }
    }
}

# Event 202: Карпатський конгрес
country_event = {
    id = uzh.202
    title = "uzh.202.t"
    desc = "uzh.202.d"
    picture = DIPLOMACY_eventPicture

    is_triggered_only = yes

    option = {
        name = "uzh.202.a"
        add_country_modifier = {
            name = "uz_congress_subject_charters"
            duration = 9125
        }
        set_country_flag = uzh_congress_subject_path
        if = {
            limit = { num_of_subjects > 0 }
            every_subject_country = {
                add_opinion = {
                    who = ROOT
                    modifier = opinion_granted_privileges
                }
                add_liberty_desire = -5
            }
        }
    }

    option = {
        name = "uzh.202.b"
        add_country_modifier = {
            name = "uz_congress_border_drill"
            duration = 9125
        }
        set_country_flag = uzh_congress_border_path
        add_mil_power = 100
        add_army_professionalism = 0.05
    }
}

# Event 203: Закарпатські кам'яновугільні компанії
country_event = {
    id = uzh.203
    title = "uzh.203.t"
    desc = "uzh.203.d"
    picture = TRADE_eventPicture

    is_triggered_only = yes

    option = {
        name = "uzh.203.a"
        add_country_modifier = {
            name = "uz_coal_foundry_network"
            duration = 9125
        }
        add_adm_power = 100
        add_mil_power = 50
    }

    option = {
        name = "uzh.203.b"
        add_country_modifier = {
            name = "uz_coal_export_charters"
            duration = 9125
        }
        add_dip_power = 100
        add_mercantilism = 1
    }
}

# Event 11: Солотвинські соляні камери
country_event = {
    id = uzh.50
    title = "uzh.50.t"
    desc = "uzh.50.d"
    picture = TRADE_eventPicture

    trigger = {
        tag = UZH
        owns = 1952
        NOT = { has_country_modifier = uz_salt_chamber_overwatch }
        NOT = { has_country_modifier = uz_private_salt_leases }
        1952 = {
            trade_goods = salt
            is_city = yes
        }
    }

    mean_time_to_happen = {
        months = 120
    }

    fire_only_once = yes

    option = {
        name = "uzh.50.a"
        1952 = {
            add_province_modifier = {
                name = "uz_solotvyno_chambers"
                duration = -1
            }
            add_base_production = 1
        }
        add_country_modifier = {
            name = "uz_salt_chamber_overwatch"
            duration = 7300
        }
        add_treasury = 75
    }

    option = {
        name = "uzh.50.b"
        1952 = {
            add_province_modifier = {
                name = "uz_solotvyno_chambers"
                duration = 3650
            }
        }
        add_country_modifier = {
            name = "uz_private_salt_leases"
            duration = 5475
        }
        add_adm_power = 50
        add_treasury = 150
        add_mercantilism = 1
    }
}

# Event 12: Ужгородська унія 1646 року
country_event = {
    id = uzh.51
    title = "uzh.51.t"
    desc = "uzh.51.d"
    picture = RELIGIOUS_eventPicture

    trigger = {
        tag = UZH
        religion_group = christian
        NOT = { has_country_modifier = uz_greek_catholic_concord }
        NOT = { has_country_modifier = uz_old_rite_resilience }
    }

    mean_time_to_happen = {
        months = 120
    }

    fire_only_once = yes

    option = {
        name = "uzh.51.a"
        add_country_modifier = {
            name = "uz_greek_catholic_concord"
            duration = 5475
        }
        add_prestige = 10
        if = {
            limit = { religion = catholic }
            add_papal_influence = 20
        }
        if = {
            limit = { religion = orthodox }
            add_patriarch_authority = -0.05
        }
    }

    option = {
        name = "uzh.51.b"
        add_country_modifier = {
            name = "uz_old_rite_resilience"
            duration = 5475
        }
        add_stability = 1
        if = {
            limit = { religion = orthodox }
            add_patriarch_authority = 0.1
        }
    }
}

# Event 13: Куруцька прикордонна варта
country_event = {
    id = uzh.52
    title = "uzh.52.t"
    desc = "uzh.52.d"
    picture = BATTLE_eventPicture

    trigger = {
        tag = UZH
        NOT = { has_country_modifier = uz_kuruc_border_raids }
        NOT = { has_country_modifier = uz_habsburg_border_command }
    }

    mean_time_to_happen = {
        months = 180
    }

    fire_only_once = yes

    option = {
        name = "uzh.52.a"
        add_country_modifier = {
            name = "uz_kuruc_border_raids"
            duration = 3650
        }
        add_mil_power = 75
        add_army_tradition = 5
        add_war_exhaustion = 1
        add_manpower = 2
    }

    option = {
        name = "uzh.52.b"
        add_country_modifier = {
            name = "uz_habsburg_border_command"
            duration = 3650
        }
        add_prestige = 10
        add_legitimacy = 10
        if = {
            limit = { exists = HAB }
            HAB = {
                add_opinion = {
                    who = ROOT
                    modifier = opinion_granted_privileges
                }
            }
        }
    }
}

# Event 14: "Я русин був, єсмь і буду"
country_event = {
    id = uzh.53
    title = "uzh.53.t"
    desc = "uzh.53.d"
    picture = CULTURE_eventPicture

    trigger = {
        tag = UZH
        NOT = { has_country_modifier = uz_duchnovych_awakening }
        NOT = { has_country_modifier = uz_magyarization_drive }
    }

    mean_time_to_happen = {
        months = 120
    }

    fire_only_once = yes

    option = {
        name = "uzh.53.a"
        add_country_modifier = {
            name = "uz_duchnovych_awakening"
            duration = 5475
        }
        add_prestige = 15
        every_owned_province = {
            limit = {
                uzh_identity_core_culture = yes
            }
            add_base_production = 1
        }
    }

    option = {
        name = "uzh.53.b"
        add_country_modifier = {
            name = "uz_magyarization_drive"
            duration = 5475
        }
        add_adm_power = 75
        every_owned_province = {
            limit = {
                uzh_identity_core_culture = yes
            }
            add_local_autonomy = 10
        }
    }
}

# Event 15: Повстання опришків
country_event = {
    id = uzh.54
    title = "uzh.54.t"
    desc = "uzh.54.d"
    picture = PEASANTS_eventPicture

    is_triggered_only = yes

    option = {
        name = "uzh.54.a"
        add_stability = -1
        add_war_exhaustion = 1
        add_mil_power = 50
        add_disaster_progress = {
            disaster = uzh_opryshky_uprising
            value = -10
        }
        remove_country_modifier = uz_amnesty_rollout
        add_country_modifier = {
            name = uz_mountain_gendarmerie
            duration = 1825
        }
    }

    option = {
        name = "uzh.54.b"
        add_treasury = -100
        add_prestige = 10
        add_disaster_progress = {
            disaster = uzh_opryshky_uprising
            value = -15
        }
        remove_country_modifier = uz_mountain_gendarmerie
        add_country_modifier = {
            name = uz_amnesty_rollout
            duration = 1825
        }
    }
}

# Event 16: Засідка на Солотвинських дорогах
country_event = {
    id = uzh.55
    title = "uzh.55.t"
    desc = "uzh.55.d"
    picture = REVOLT_eventPicture

    is_triggered_only = yes

    immediate = {
        if = {
            limit = { owns = 1952 }
            1952 = {
                add_devastation = 5
            }
        }
        add_country_modifier = {
            name = uz_opryshky_raids
            duration = 365
        }
    }

    option = {
        name = "uzh.55.a"
        add_mil_power = 25
        add_war_exhaustion = 0.5
        add_disaster_progress = {
            disaster = uzh_opryshky_uprising
            value = -5
        }
    }

    option = {
        name = "uzh.55.b"
        add_treasury = -50
        add_inflation = 0.1
        add_disaster_progress = {
            disaster = uzh_opryshky_uprising
            value = -10
        }
    }
}

# Event 17: Приборкати братства чи вшанувати? 
country_event = {
    id = uzh.56
    title = "uzh.56.t"
    desc = "uzh.56.d"
    picture = PEASANTS_eventPicture

    is_triggered_only = yes

    immediate = {
        remove_country_modifier = uz_opryshky_raids
    }

    option = {
        name = "uzh.56.a"
        remove_country_modifier = uz_amnesty_rollout
        add_country_modifier = {
            name = uz_mountain_gendarmerie
            duration = 5475
        }
        add_country_modifier = {
            name = uz_opryshky_pacified
            duration = -1
        }
        add_mil_power = 50
    }

    option = {
        name = "uzh.56.b"
        remove_country_modifier = uz_mountain_gendarmerie
        add_country_modifier = {
            name = uz_rebel_legends
            duration = 5475
        }
        add_country_modifier = {
            name = uz_opryshky_pacified
            duration = -1
        }
        add_prestige = 20
    }
}

namespace = uzh_identity

# Event 1: Питання Ідентичності - Ключовий вибір
country_event = {
    id = uzh_identity.1
    title = "uzh_identity.1.t"
    desc = "uzh_identity.1.d"
    picture = DIPLOMACY_eventPicture
    
    is_triggered_only = yes
    
    # Руська спадщина (україно-орієнтована)
    option = {
        name = "uzh_identity.1.a"
        set_country_flag = chose_ruthenian_identity
        clr_country_flag = chose_rusyn_identity
        clr_country_flag = chose_uhro_rusyn_identity
        swap_non_generic_missions = yes
        add_country_modifier = {
            name = "uz_ukraino_rusyn_identity"
            duration = 9125
        }
        add_prestige = 15
        add_accepted_culture = ruthenian
        add_legitimacy = 10
    }
    
    # Русинська автономія
    option = {
        name = "uzh_identity.1.b"
        set_country_flag = chose_rusyn_identity
        clr_country_flag = chose_ruthenian_identity
        clr_country_flag = chose_uhro_rusyn_identity
        swap_non_generic_missions = yes
        add_country_modifier = {
            name = "uz_slavo_rusyn_identity"
            duration = 9125
        }
        add_republican_tradition = 10
        change_government = republic
        change_primary_culture = rusyn
    change_government_reform_progress = 75
    }
    
    # Угроруська інтеграція
    option = {
        name = "uzh_identity.1.c"
        set_country_flag = chose_uhro_rusyn_identity
        clr_country_flag = chose_ruthenian_identity
        clr_country_flag = chose_rusyn_identity
        swap_non_generic_missions = yes
        add_country_modifier = {
            name = "uz_uhro_rusyn_identity"
            duration = 9125
        }
        add_accepted_culture = hungarian
        if = {
            limit = { exists = HUN }
            HUN = {
                add_opinion = {
                    who = ROOT
                    modifier = opinion_improved_relations
                }
            }
        }
    }
}

# Event 2: Наслідки Руського Вибору
country_event = {
    id = uzh_identity.2
    title = "uzh_identity.2.t"
    desc = "uzh_identity.2.d"
    picture = ORTHODOX_eventPicture
    
    trigger = {
        has_country_flag = chose_ruthenian_identity
        NOT = { has_country_flag = ruthenian_consequences_fired }
    }
    
    mean_time_to_happen = {
        months = 12
    }
    
    option = {
        name = "uzh_identity.2.a"
        set_country_flag = ruthenian_consequences_fired
        add_country_modifier = {
            name = "uz_ruthenian_awakening"
            duration = 5475
        }
        add_patriarch_authority = 0.1
        every_owned_province = {
            limit = {
                religion = orthodox
            }
            add_province_modifier = {
                name = "uz_orthodox_revival"
                duration = 5475
            }
        }
    }
}

# Event 3: Наслідки Русинського Вибору
country_event = {
    id = uzh_identity.3
    title = "uzh_identity.3.t"
    desc = "uzh_identity.3.d"
    picture = DIPLOMACY_eventPicture
    
    trigger = {
        has_country_flag = chose_rusyn_identity
        NOT = { has_country_flag = rusyn_consequences_fired }
    }
    
    mean_time_to_happen = {
        months = 12
    }
    
    option = {
        name = "uzh_identity.3.a"
        set_country_flag = rusyn_consequences_fired
        add_country_modifier = {
            name = "uz_rusyn_autonomy"
            duration = 5475
        }
        add_republican_tradition = 15
        every_owned_province = {
            limit = {
                uzh_identity_core_culture = yes
            }
            add_local_autonomy = -15
        }
    }
}

# Event 4: Наслідки Угрорусінського Вибору
country_event = {
    id = uzh_identity.4
    title = "uzh_identity.4.t"
    desc = "uzh_identity.4.d"
    picture = DIPLOMACY_eventPicture
    
    trigger = {
        has_country_flag = chose_uhro_rusyn_identity
        NOT = { has_country_flag = uhro_rusyn_consequences_fired }
    }
    
    mean_time_to_happen = {
        months = 12
    }
    
    option = {
        name = "uzh_identity.4.a"
        set_country_flag = uhro_rusyn_consequences_fired
        if = {
            limit = { 
                exists = HUN
                NOT = { alliance_with = HUN }
            }
            create_alliance = HUN
        }
        every_owned_province = {
            limit = {
                culture = hungarian
            }
            add_base_tax = 1
        }
    }
}